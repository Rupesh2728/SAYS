<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Snacks</title>
    <link rel="stylesheet" href="/css/theatredashboard/snacksdashboard.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
    <script src="https://kit.fontawesome.com/3e893105a3.js"crossorigin="anonymous"></script>
</head>
<body style="background-color: black;">
    <div class="modal fade" id="addsnack" aria-hidden="true" aria-labelledby="exampleModalToggleLabel" tabindex="-1">
        <div class="modal-dialog modal-lg">
          <div class="modal-content">
            <div class="modal-header" style="background-color: #221f1f;">
              <h5 class="modal-title" id="exampleModalToggleLabel" style="color: gold;">Add Snack</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" style="color: gold;"><i class="fa-solid fa-xmark fa-2xl"></i></button>
            </div>
            <div class="modal-body">
                <div class="addsnackform">
                    <form action="/tsnackspage/addsnack" method="post">
                       <div class="row">
                          <div class="col" style="display: flex;flex-direction: column;">
                             <p>Snack Name</p>
                             <input type="text" name="sname" required/>
                        </div>
            
                        <div class="col" style="display: flex;flex-direction: column;">
                            <p>Snack Category</p>
                            <input type="text" name="category" required/>
                          </div>
                       </div>
            
                       <div class="row" style="margin-top: 2rem;">
                        <div class="col" style="display: flex;flex-direction: column;">
                            <p>Price(In Rupees)</p>
                            <input type="text" name="price" required/>
                           
                        </div>
            
                        <div class="col" style="display: flex;flex-direction: column;" >
                            <p>Upload image URL</p>
                            <input type="text" style="border: 0;" name="snackimg" required/>
                        </div>
                     </div>
            
                      <div style="display: flex;justify-content: center;">
                        <button type="submit" class="btn btn-success" data-bs-toggle="modal" style="margin-top:1rem">
                         Submit
                        </button>
                      </div>
            
                    </form>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>

      <div class="modal fade" id="editsnack" aria-hidden="true" aria-labelledby="exampleModalToggleLabel" tabindex="-1">
        <div class="modal-dialog modal-lg">
          <div class="modal-content">
            <div class="modal-header" style="background-color: #221f1f;">
              <h5 class="modal-title" id="exampleModalToggleLabel" style="color: gold;">Add Snack</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" style="color: gold;"><i class="fa-solid fa-xmark fa-2xl"></i></button>
            </div>
            <div class="modal-body">
                <div class="addsnackform editsnackform">
                    <form action="/tsnackspage/editsavesnack" method="post"> 
                       <div class="row">
                          <div class="col" style="display: flex;flex-direction: column;">
                             <p>Snack Name</p>
                             <input type="text" name="esname" class="esname" required/>
                         </div>
            
                          <div class="col" style="display: flex;flex-direction: column;">
                            <p>Snack Category</p>
                            <input type="text" class="escategory" name="escategory" required/>
                          </div>
                       </div>
            
                       <div class="row" style="margin-top: 2rem;">
                        <div class="col" style="display: flex;flex-direction: column;">
                            <p>Price</p>
                            <input type="text" class="esprice" name="esprice" required/>
                           
                        </div>
            
                        <div class="col" style="display: flex;flex-direction: column;" >
                          <p>Upload image URL</p>
                          <input type="text" class="esimgurl" name="esimgurl" style="border: 0;" name="snackimg" required/>
                      </div>
                     </div>
            
                      <div style="display: flex;justify-content: center;">
                        <button type="submit" class="btn btn-success savebtn" data-bs-toggle="modal" style="margin-top:1rem">
                        Save
                        </button>
                      </div>
            
                    </form>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>
    
    
    
    <nav class="navbar navbar-expand-lg" style="background-color: #221f1f;font-size: 1.1rem;">
        <div class="container-fluid">
          <div class="collapse navbar-collapse" id="navbarSupportedContent" style="display: flex;justify-content: space-between;">
              <div class="navbarlinks">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                  <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="/tdashboard" style="color: gold;">Home</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="/tmdashboard" style="color: gold;">Movies</a>
                  </li>

                  <li class="nav-item">
                      <a class="nav-link" href="/tsnackspage"style="color: gold;">Snacks</a>
                  </li>

                  <li class="nav-item">
                      <a class="nav-link" href="/tschedule" style="color: gold;">Theatre</a>
                  </li>

                  <li class="nav-item">
                    <a class="nav-link" href="/usertheatreinfo" style="color: gold;">About Theatre</a>
                  </li>

                  </ul>
              </div>

              <div class="profile" style="margin-right: 5rem;">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false" style="border-radius: 50%;color: gold;">
                           <img src="https://sambadenglish.com/wp-content/uploads/2021/03/s3.jpg" alt="" style="border-radius: 50%;width: 2.5rem;height: 2.5rem;border:1.5px solid gold">
                        </a>
                        <ul class="dropdown-menu" style="width: 2rem !important;">
                          <li><a class="dropdown-item" href="/tprofile">Profile</a></li>
                          <li><a class="dropdown-item" href="/tprofile/teditprofile">Edit Profile</a></li>
                          <li><hr class="dropdown-divider"></li>
                          <li><a class="dropdown-item" href="/Tsignout">Sign Out</a></li>
                        </ul>
                    </li>
                </ul>         
              </div>    
            </ul>        
          </div>
        </div>
      </nav>


      <div class="snacksdata">
        <div class="heading">
            <h4>Snacks</h4>
            <div class="add">
                <button type="button" class="btn btn-success" data-bs-toggle="modal" data-bs-target="#addsnack">
                    Add
                </button>
            </div>
        </div>
    
       <div class="container" style="margin-top:2rem;margin-left: 18.5rem;">
          <div class="snacktable">  
             <%if(snackinfoarr.length==0){ %>
              <p style="color: gold;font-size: 2rem;">OOPS...No Snacks are Present in your Theatre</p>     
            <% }else {%>  
                 

              <table>
                <thead>
                  <tr class="headingrow">
                    <th>#</th>
                    <th>#Pic</th>
                    <th>Snack Name</th>
                    <th>Category</th>
                    <th>Price</th>
                  </tr>
                </thead>
                
                <tbody>
                  <% for(let i=0;i<snackinfoarr.length;i++){ %>
                    <tr>
                    <form action="/tsnackspage/removesnack" method="post">
                      <td><%=(i+1)%></td>
                      <td><img src="<%=snackinfoarr[i]['imgurl']%>" alt="" class="snackpic"></td>
                      <td><input type="text" value="<%=snackinfoarr[i]['SnackName']%>" name="rsname" readonly/></td>
                      <td><input type="text" value="<%=snackinfoarr[i]['category']%>" name="rscategory" readonly/></td>
                      <td><%=snackinfoarr[i]['price']%>/-</td>
                      <td>
                        <div class="editremove" style="display: flex;">
                          <button type="button" class="btn btn-primary editbtn" data-bs-toggle="modal" data-bs-target="#editsnack">
                            Edit
                         </button>
  
                        
                      <button type="submit" class="btn btn-primary removebtn" style="margin-left:1rem;">
                        Remove
                      </button>
                           
                         
              
                        </div> 
                      </td>
                    </form>
                    </tr>
                  <%}%>
                </tbody>
              </table>
              
          <% }%>                
            </div>      
        </div>
    </div>



    <script src="/js/theatredashboard/theatresnackspage.js"></script>
</body>
</html>